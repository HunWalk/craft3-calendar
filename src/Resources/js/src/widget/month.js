"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function updateDayNumberDimensions(e,t){var n=$(".fc-content-skeleton",t);$(".fc-day-number",t).css({textAlign:"center",padding:0,minHeight:n.height()+"px",lineHeight:n.height()+"px"})}var initiateMiniCal=function(e){if(e&&e.length){var t=e,n=e.data(),a=n.overlapThreshold,r=void 0===a?5:a,i=n.firstDayOfWeek,o=void 0===i?0:i,d=n.locale,l=void 0===d?"en":d,c=n.currentDay,f=void 0===c?new moment:c;t.fullCalendar({now:f,defaultDate:f,defaultView:"month",nextDayThreshold:"0"+r+":00:01",fixedWeekCount:!1,eventLimit:1,firstDay:o,lang:l,height:"auto",columnFormat:"dd",viewRender:updateDayNumberDimensions,windowResize:updateDayNumberDimensions,eventClick:eventClick,dayClick:function(e){window.location.href=Craft.getCpUrl("calendar/view/day/"+e.format("YYYY/MM/DD"))},events:function(e,n){$.ajax({url:Craft.getCpUrl("calendar/month"),data:_defineProperty({rangeStart:e.toISOString(),rangeEnd:n.toISOString(),nonEditable:!0,calendars:t.data("calendars")},Craft.csrfTokenName,Craft.csrfTokenValue),type:"post",dataType:"json",success:function(e){$(".fc-content-skeleton .fc-day-top.fc-has-event").removeClass("fc-has-event");var t=!0,n=!1,a=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0)for(var o=r.value,d=moment(o.start).utc(),l=moment(o.end).utc();d.isBefore(l);)$(".fc-content-skeleton .fc-day-top[data-date="+d.utc().format("YYYY-MM-DD")+"]").addClass("fc-has-event"),d.add(1,"days")}catch(c){n=!0,a=c}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw a}}}})},header:{left:"prev",center:"title",right:"next"}})}};